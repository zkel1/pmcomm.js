{"version":3,"file":"examples/js/pmcomm.min.js","sources":["src/pmcomm.js"],"names":["__pmcomm__","isFunc","param","getType","toString","call","parseArgs","args","res","i","length","push","Sender","otherWindow","targetOrigin","targetObject","methods","this","_window","_origin","_obj","_msgs","sender","window","addEventListener","e","_onMsg","forEach","method","__proto__","_invoke","arguments","Receiver","objectName","callback_handler","id","resSource","resOrigin","cbIdx","msg","callback_data","JSON","stringify","type","RECEIVER","postMessage","data","SENDER","send","obj","eval","params","parse","cbIdxs","source","origin","console","log","RegExp","Set","test","has","apply","result","err","error","prototype","reject","resolve","idx","callback","callbacks","Object","keys","_postMsg","msgId","Date","getTime","Math","random","_this","Promise","start","undefined","PMCommSender","PMCommReceiver"],"mappings":"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"}